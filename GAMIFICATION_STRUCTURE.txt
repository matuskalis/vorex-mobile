VOREX MOBILE - GAMIFICATION SYSTEM STRUCTURE
===========================================

ğŸ“ Project Root: /Users/matuskalis/vorex-mobile/
â”‚
â”œâ”€â”€ ğŸ“„ GAMIFICATION_SUMMARY.md         (Complete overview & documentation)
â”œâ”€â”€ ğŸ“„ GAMIFICATION_INTEGRATION.md     (Quick start guide)
â”œâ”€â”€ ğŸ“„ GAMIFICATION_CHECKLIST.md       (Integration checklist)
â””â”€â”€ ğŸ“„ GAMIFICATION_STRUCTURE.txt      (This file)

ğŸ“ src/
â”‚
â”œâ”€â”€ ğŸ“ context/
â”‚   â””â”€â”€ ğŸ“„ GamificationContext.tsx     (Main context provider)
â”‚       â”œâ”€â”€ State: currentXP, totalXP, level, streak, hearts, etc.
â”‚       â”œâ”€â”€ Functions: addXP(), updateStreak(), loseHeart()
â”‚       â””â”€â”€ AsyncStorage persistence
â”‚
â”œâ”€â”€ ğŸ“ hooks/
â”‚   â””â”€â”€ ğŸ“„ useGamification.ts          (Hook to access context)
â”‚
â”œâ”€â”€ ğŸ“ types/
â”‚   â””â”€â”€ ğŸ“„ gamification.ts             (TypeScript definitions)
â”‚
â”œâ”€â”€ ğŸ“ utils/
â”‚   â””â”€â”€ ğŸ“„ gamification.ts             (25+ helper functions)
â”‚       â”œâ”€â”€ XP calculations
â”‚       â”œâ”€â”€ Date utilities
â”‚       â”œâ”€â”€ Formatting functions
â”‚       â””â”€â”€ Motivational messages
â”‚
â””â”€â”€ ğŸ“ components/gamification/
    â”œâ”€â”€ ğŸ“„ index.ts                    (Barrel exports)
    â”œâ”€â”€ ğŸ“„ README.md                   (Component documentation)
    â”œâ”€â”€ ğŸ“„ GamificationDemo.tsx        (Demo/test screen)
    â”‚
    â”œâ”€â”€ ğŸ“„ XPBar.tsx                   (Level & XP progress)
    â”‚   â””â”€â”€ Shows: Level, current XP, next level XP, animated bar
    â”‚
    â”œâ”€â”€ ğŸ“„ StreakBadge.tsx             (Daily streak display)
    â”‚   â””â”€â”€ Shows: Fire icon, streak count, pulsing animation
    â”‚
    â”œâ”€â”€ ğŸ“„ HeartDisplay.tsx            (Lives/hearts display)
    â”‚   â””â”€â”€ Shows: Heart icons, count, shake animation
    â”‚
    â”œâ”€â”€ ğŸ“„ XPGain.tsx                  (Floating XP animation)
    â”‚   â””â”€â”€ Shows: "+X XP", floats up, fades out
    â”‚
    â”œâ”€â”€ ğŸ“„ LevelUpModal.tsx            (Level up celebration)
    â”‚   â””â”€â”€ Shows: Modal, confetti, level number
    â”‚
    â”œâ”€â”€ ğŸ“„ DailyGoalCard.tsx           (Daily goal tracker)
    â”‚   â””â”€â”€ Shows: Progress, goal selection, completion badge
    â”‚
    â””â”€â”€ ğŸ“„ StatsCard.tsx               (Stats overview)
        â””â”€â”€ Shows: Tier, level, total XP, streak, today's XP, goal %


COMPONENT HIERARCHY
===================

App
â””â”€â”€ GamificationProvider
    â””â”€â”€ Your App Content
        â”œâ”€â”€ HomeScreen
        â”‚   â”œâ”€â”€ StreakBadge
        â”‚   â”œâ”€â”€ XPBar
        â”‚   â”œâ”€â”€ DailyGoalCard
        â”‚   â””â”€â”€ StatsCard
        â”‚
        â”œâ”€â”€ QuizScreen
        â”‚   â”œâ”€â”€ HeartDisplay
        â”‚   â”œâ”€â”€ XPBar
        â”‚   â”œâ”€â”€ XPGain (conditional)
        â”‚   â””â”€â”€ LevelUpModal (conditional)
        â”‚
        â””â”€â”€ ProfileScreen
            â”œâ”€â”€ StatsCard
            â”œâ”€â”€ XPBar
            â””â”€â”€ StreakBadge


DATA FLOW
=========

User Action (e.g., correct answer)
    â†“
Component calls: await addXP(10)
    â†“
GamificationContext updates state
    â†“
AsyncStorage saves data
    â†“
Components re-render with new values
    â†“
Animations trigger (XPGain, level up modal)
    â†“
Visual feedback to user


PERSISTENCE FLOW
================

App Launch
    â†“
GamificationProvider mounts
    â†“
Load data from AsyncStorage
    â†“
Check streak status (daily reset)
    â†“
Set initial state
    â†“
isLoading = false
    â†“
Components render with saved data


COLOR SCHEME
============

Component          | Primary Color | Hex Code | Usage
-------------------|---------------|----------|------------------
XPBar              | Gold          | #fbbf24  | Progress bar
StreakBadge        | Orange        | #f97316  | Fire theme
HeartDisplay       | Red           | #ef4444  | Hearts/lives
LevelUpModal       | Purple        | #6366f1  | Accent/buttons
DailyGoalCard      | Purple        | #6366f1  | Progress bar
StatsCard          | Multi         | Various  | Tier colors

Background Colors:
- Main: #0a0a0a (Near black)
- Cards: #1f2937 (Dark gray)
- Borders: #374151 (Medium gray)
- Text (secondary): #9ca3af (Light gray)


LEVEL PROGRESSION
=================

Level | XP Required | Total XP  | Tier
------|-------------|-----------|-------------
1     | 0           | 0         | Beginner
2     | 100         | 0         | Beginner
3     | 150         | 100       | Beginner
5     | 225         | 250       | Beginner
10    | 760         | 2,834     | Intermediate
15    | 2,566       | 11,317    | Advanced
20    | 8,658       | 43,189    | Advanced
30    | 98,598      | 586,152   | Expert
50    | 4,374,902   | 27,249,513| Grandmaster

Formula: XP = 100 Ã— 1.5^(level - 1)


ANIMATIONS
==========

Component       | Animation Type      | Duration | Effect
----------------|---------------------|----------|------------------
XPBar           | Spring              | Dynamic  | Progress fill
StreakBadge     | Loop (pulse/rotate) | 1600ms   | Attention
HeartDisplay    | Shake sequence      | 200ms    | Impact feedback
XPGain          | Float + fade        | 2000ms   | Reward feedback
LevelUpModal    | Spring + confetti   | 1000ms   | Celebration
DailyGoalCard   | Spring              | Dynamic  | Progress update


API REFERENCE
=============

useGamification() returns:
{
  // State
  currentXP: number          - XP progress in current level
  totalXP: number            - Total XP earned all-time
  level: number              - Current level
  xpForNextLevel: number     - XP needed for next level
  dailyStreak: number        - Current daily streak
  todayXP: number            - XP earned today
  dailyGoal: number          - Current daily goal (10/20/30)
  hearts: number             - Remaining hearts
  maxHearts: number          - Maximum hearts (5)
  isLoading: boolean         - Loading state

  // Actions
  addXP(amount: number): Promise<void>
  updateStreak(): Promise<void>
  loseHeart(): void
  resetHearts(): void
  setDailyGoal(goal: number): Promise<void>
}


FILE SIZES
==========

File                        | Lines | Size   | Description
----------------------------|-------|--------|------------------
GamificationContext.tsx     | 170   | ~7 KB  | Core logic
useGamification.ts          | 12    | <1 KB  | Hook
gamification.ts (types)     | 60    | ~2 KB  | TypeScript defs
gamification.ts (utils)     | 250   | ~8 KB  | Helpers
XPBar.tsx                   | 85    | ~2 KB  | Component
StreakBadge.tsx             | 100   | ~3 KB  | Component
HeartDisplay.tsx            | 90    | ~2 KB  | Component
XPGain.tsx                  | 75    | ~2 KB  | Component
LevelUpModal.tsx            | 220   | ~7 KB  | Component
DailyGoalCard.tsx           | 180   | ~5 KB  | Component
StatsCard.tsx               | 100   | ~3 KB  | Component
GamificationDemo.tsx        | 185   | ~6 KB  | Demo
README.md                   | 280   | ~7 KB  | Docs

Total: ~1,800 lines, ~54 KB


ASYNCSTORAGE KEYS
=================

Key                              | Stores
---------------------------------|------------------
@gamification_total_xp           | Total XP earned
@gamification_current_xp         | Current level XP
@gamification_level              | Current level
@gamification_streak             | Daily streak count
@gamification_last_activity      | Last activity date
@gamification_today_xp           | Today's XP
@gamification_daily_goal         | Daily goal setting
@gamification_last_xp_reset      | Last daily reset


INTEGRATION POINTS
==================

1. App.tsx
   â””â”€â”€ Wrap with GamificationProvider

2. Quiz/Lesson Screens
   â”œâ”€â”€ Import useGamification hook
   â”œâ”€â”€ Add XPBar, HeartDisplay components
   â”œâ”€â”€ Call addXP() on correct answers
   â”œâ”€â”€ Call loseHeart() on wrong answers
   â”œâ”€â”€ Call updateStreak() on completion
   â””â”€â”€ Add XPGain, LevelUpModal for feedback

3. Home/Dashboard
   â”œâ”€â”€ Add StreakBadge
   â”œâ”€â”€ Add XPBar
   â”œâ”€â”€ Add DailyGoalCard
   â””â”€â”€ Add StatsCard

4. Profile Screen
   â”œâ”€â”€ Add StatsCard
   â””â”€â”€ Display level tier, total XP


TESTING STRATEGY
================

1. Manual Testing
   - Use GamificationDemo screen
   - Test each button/function
   - Verify animations
   - Check persistence

2. Integration Testing
   - Test in actual app screens
   - Award XP for real actions
   - Test streak over multiple days
   - Verify level-up flow

3. Persistence Testing
   - Add XP, close app, reopen
   - Verify all data restored
   - Test daily resets
   - Check streak calculation


NEXT STEPS
==========

1. âœ… Install @react-native-async-storage/async-storage
2. âœ… Add GamificationProvider to App.tsx
3. âœ… Test with GamificationDemo
4. âœ… Integrate into quiz screens
5. âœ… Integrate into home screen
6. âœ… Test persistence
7. âœ… Deploy to production

Optional Enhancements:
- Add achievements/badges
- Add leaderboards
- Add sound effects
- Add haptic feedback
- Add heart regeneration
- Add bonus XP multipliers
- Add weekly challenges


QUICK REFERENCE COMMANDS
=========================

# Install dependency
npx expo install @react-native-async-storage/async-storage

# Import provider
import { GamificationProvider } from './src/context/GamificationContext';

# Import hook
import { useGamification } from './src/hooks/useGamification';

# Import components
import {
  XPBar,
  StreakBadge,
  HeartDisplay,
  XPGain,
  LevelUpModal,
  DailyGoalCard,
  StatsCard
} from './src/components/gamification';

# Import utilities
import {
  calculateXPForLevel,
  formatXP,
  getLevelTier,
  getStreakMessage
} from './src/utils/gamification';


SUPPORT & DOCUMENTATION
========================

Main Docs: GAMIFICATION_SUMMARY.md
Quick Start: GAMIFICATION_INTEGRATION.md
Checklist: GAMIFICATION_CHECKLIST.md
Component Docs: src/components/gamification/README.md
This File: GAMIFICATION_STRUCTURE.txt

Built for: Vorex Mobile App
Created: December 2025
Framework: React Native + Expo
Language: TypeScript
